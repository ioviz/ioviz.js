(function(){define("app/utils/errors",[],function(){var t;return t=function(){function t(){}return t.prototype.NOT_IMPLEMENT=new Error("not implement"),t}()})}).call(this),function(){define("app/utils/next_tick",[],function(){return function(t){return setTimeout(t,0)}})}.call(this),function(){define("app/utils/tokenizer",[],function(){var t;return t=function(){function t(t){this.tokens=t.split(/\b\s+/)}return t.prototype.nextInt=function(){return parseInt(this.tokens.shift(),10)},t}()})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function n(){this.constructor=e}for(var o in r)t.call(r,o)&&(e[o]=r[o]);return n.prototype=r.prototype,e.prototype=new n,e.__super__=r.prototype,e};define("app/views/graph_view",["underscore","backbone","d3"],function(t,r,n){var o;return o=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}var i;return e(o,r),i={WIDTH:640,HEIGHT:480},Object.freeze(i),o.prototype.tagName="div",o.prototype.initialize=function(t){return this.width=t.width||i.WIDTH,this.height=t.height||i.HEIGHT,this.initFrame(),this.initSvg(),this.initSourceNodes(),this.initSourceEdges(),this.initLayout(),this.initEdges(),this.initNodes()},o.prototype.initFrame=function(){return this.$el.css("position","relative").css("width",""+this.width+"px").css("height",""+this.height+"px")},o.prototype.initNodes=function(){var t;return this.nodes=this.svg.selectAll(".node").data(this.srcNodes),t=this.layout.drag().on("dragstart",function(t){return n.select(this).classed("fixed",t.fixed=!0)}),this.nodes.enter().append("circle").attr("class","node").attr("id",function(t){return"node-"+t.name}).attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("r",12).on("dblclick",function(t){return n.select(this).classed("fixed",t.fixed=!1)}).call(t),this.nodes.exit().remove()},o.prototype.initEdges=function(){return this.edges=this.svg.selectAll(".edge").data(this.srcEdges,function(t){return""+Math.min(t.source.name,t.target.name)+"-"+Math.max(t.source.name,t.target.name)}),this.edges.enter().insert("line").attr("id",function(t){return"edge-"+Math.min(t.source.name,t.target.name)+"-"+Math.max(t.source.name,t.target.name)}).attr("class","edge").attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y})},o.prototype.initLayout=function(){return this.layout=n.layout.force().nodes(this.srcNodes).links(this.srcEdges).size([this.width,this.height]).linkDistance(40).chargeDistance(-400).start(),this.layout.on("tick",function(t){return function(){return t.edges.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),t.nodes.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y})}}(this))},o.prototype.initSourceEdges=function(){var e;return e=this.model.getEdges(),this.srcEdges=[],this.model.repeatNumVertices(function(r){return function(n){return t(e[n]).each(function(t){var e,n;return e=r.model.isZeroIndexed()?t.from:t.from-1,n=r.model.isZeroIndexed()?t.to:t.to-1,r.srcEdges.push({source:e,target:n})})}}(this))},o.prototype.initSourceNodes=function(){return this.srcNodes=[],this.model.repeatNumVertices(function(t){return function(e){return t.srcNodes.push({name:""+e,x:300,y:300})}}(this))},o.prototype.initSvg=function(){return this.svg=n.select(this.el).append("svg").attr("width","100%").attr("height","100%").style("position","absolute")},o.prototype.render=function(){return this.layout.start(),this},o}(r.View)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function n(){this.constructor=e}for(var o in r)t.call(r,o)&&(e[o]=r[o]);return n.prototype=r.prototype,e.prototype=new n,e.__super__=r.prototype,e};define("app/models/graph/graph_interface",["backbone","app/utils/errors"],function(t,r){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.defaults=function(){return{numVertices:0,numEdges:0,directedFlag:!1,zeroIndexedFlag:!1}},n.prototype.getNumVertices=function(){return this.get("numVertices")},n.prototype.getNumEdges=function(){return this.get("numEdges")},n.prototype.getDirectedFlag=function(){return this.get("directedFlag")},n.prototype.getZeroIndexedFlag=function(){return this.get("zeroIndexed")},n.prototype.getEdges=function(){return JSON.parse(this.get("edges"))},n.prototype.setNumVertices=function(t){return this.set("numVertices",t)},n.prototype.setNumEdges=function(t){return this.set("numEdges",t)},n.prototype.setDirectedFlag=function(t){return this.set("directedFlag",t)},n.prototype.setZeroIndexedFlag=function(t){return this.set("zeroIndexed",t)},n.prototype.setEdges=function(t){return this.set("edges",JSON.stringify(t))},n.prototype.isZeroIndexed=function(){return this.get("zeroIndexed")},n.prototype.repeatNumEdges=function(t){var e,r,n,o;for(o=[],e=r=0,n=this.getNumEdges()-1;n>=0?n>=r:r>=n;e=n>=0?++r:--r)o.push(t(e));return o},n.prototype.repeatNumVertices=function(t){var e,r,n,o,i,s,u;for(r=this.getZeroIndexedFlag()?function(){i=[];for(var t=0,e=this.getNumVertices()-1;e>=0?e>=t:t>=e;e>=0?t++:t--)i.push(t);return i}.apply(this):function(){s=[];for(var t=1,e=this.getNumVertices();e>=1?e>=t:t>=e;e>=1?t++:t--)s.push(t);return s}.apply(this),u=[],n=0,o=r.length;o>n;n++)e=r[n],u.push(t(e));return u},n.prototype.addEdge=function(){throw r.prototype.NOT_IMPLEMENT},n.prototype.hasEdge=function(){throw r.prototype.NOT_IMPLEMENT},n}(t.Model)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function n(){this.constructor=e}for(var o in r)t.call(r,o)&&(e[o]=r[o]);return n.prototype=r.prototype,e.prototype=new n,e.__super__=r.prototype,e};define("app/models/graph/adjacent_list",["underscore","app/models/graph/graph_interface"],function(t,r){var n;return n=function(r){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,r),n.prototype.initialize=function(){return this.setEdges({}),this.direction=!0},n.prototype.addEdge=function(t){var e;return e=this.getEdges(),this._addEdge(e,t),this.getDirectedFlag()||this._addRevEdge(e,t),this.setEdges(e)},n.prototype.hasEdge=function(e,r){return t(this.getEdges()[e]).some(function(t){return t.to===r})},n.prototype._addEdge=function(t,e){var r;return t[r=e.from]||(t[r]=[]),t[e.from].push(e)},n.prototype._addRevEdge=function(e,r){var n,o;return n=t.clone(r),n.to=r.from,n.from=r.to,e[o=n.from]||(e[o]=[]),e[n.from].push(n)},n}(r)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function n(){this.constructor=e}for(var o in r)t.call(r,o)&&(e[o]=r[o]);return n.prototype=r.prototype,e.prototype=new n,e.__super__=r.prototype,e};define("app/streams/base/stream_base",["underscore","backbone","app/utils/errors"],function(t,r,n){var o;return o=function(){function o(){this.events={},t(this.events).extend(r.Events),this.destStream=void 0,this.initialize()}return o.prototype.initialize=function(){return this.on("data",function(t){return function(){return t.onData.apply(t,arguments)}}(this))},o.prototype.flow=function(){return this.destStream?this.destStream.trigger.apply(this.destStream,arguments):void 0},o.prototype.on=function(){return this.events.on.apply(this,arguments)},o.prototype.trigger=function(){return this.events.trigger.apply(this,arguments)},o.prototype.pipe=function(t){return this.destStream=t},o.src=function(){throw n.prototype.NOT_IMPLEMENT},o.eof=function(){var t;return new(t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.initialize=function(){return this.on("data",function(t){return function(){return t.trigger("end")}}(this))},r}(o))},o}()})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function n(){this.constructor=e}for(var o in r)t.call(r,o)&&(e[o]=r[o]);return n.prototype=r.prototype,e.prototype=new n,e.__super__=r.prototype,e};define("app/streams/graph/adjacent_list_stream",["app/streams/base/stream_base","app/models/graph/adjacent_list","app/utils/tokenizer","app/utils/next_tick"],function(t,r,n,o){var i;return i=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.src=function(t){var e;return e=new i,o(function(){return e.flow("data",new n(t),new r)}),e},i}(t)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function n(){this.constructor=e}for(var o in r)t.call(r,o)&&(e[o]=r[o]);return n.prototype=r.prototype,e.prototype=new n,e.__super__=r.prototype,e};define("app/streams/graph/graph_stream",["app/streams/base/stream_base"],function(t){var r;return r=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.numVertices=function(){var t;return new(t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.onData=function(t,e){return e.setNumVertices(t.nextInt()),this.flow("data",t,e)},r}(r))},r.numEdges=function(){var t;return new(t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.onData=function(t,e){return e.setNumEdges(t.nextInt()),this.flow("data",t,e)},r}(r))},r.edges=function(){var t;return new(t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.onData=function(t,e){return e.repeatNumEdges(function(){var r;return r={},r.from=t.nextInt(),r.to=t.nextInt(),e.addEdge(r)}),this.flow("data",t,e)},r}(r))},r.directed=function(t){var n;return new(n=function(r){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,r),n.prototype.onData=function(e,r){return r.setDirectedFlag(t),this.flow("data",e,r)},n}(r))},r}(t)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function n(){this.constructor=e}for(var o in r)t.call(r,o)&&(e[o]=r[o]);return n.prototype=r.prototype,e.prototype=new n,e.__super__=r.prototype,e};define("app/streams/text/text_stream",["app/streams/base/stream_base","app/utils/next_tick"],function(t){var r;return r=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r}(t)})}.call(this),function(){define("config/require-all",["app/utils/errors","app/utils/next_tick","app/utils/tokenizer","app/views/graph_view","app/models/graph/adjacent_list","app/models/graph/graph_interface","app/streams/base/stream_base","app/streams/graph/adjacent_list_stream","app/streams/graph/graph_stream","app/streams/text/text_stream"],function(){})}();